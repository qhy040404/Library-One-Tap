# Changelog

v3.8.1

* 已经完成的考试现在会单独显示
* 常规优化

---

v3.8.0

* 现在可以查询当前学期选了哪些课
* 修复了部分显示错误
* 优化了部分 UI
* 常规优化

---

v3.7.2

* 修复了接口不可用时返回密码错误的bug
* 修复了预约临时业务时重置座位会崩溃的bug
* 更新依赖
* 常规优化

---

v3.7.1

* 修复了更新下载完成后进度条不消失的bug

> 测试更新日志

---

v3.7.0

* 现在可以在设置中查看最近一次更新的日志
* 浴室预约不可用时，会自动隐藏此工具
* 修复了打开后首次查询流量/电量时显示登录失败的bug
* 修复了点击刷新后程序会崩溃的bug
* 优化了部分文本
* 更新依赖
* 常规优化

---

v3.6.9

* 修复了检查更新不会显示检测到新版本的bug
* 修复了校园网环境下，浴室预约不可用的bug
* 优化了更新安装包的处理
* 常规优化

> 最近不知道为什么很多校内资源都要用校园网，可能下个版本补齐所有的 WebVPN 吧，这个版本就开开 WiFi 用吧

---

v3.6.8

* 修复了更新日志部分错误的bug
* 修复了开始更新时会重复出现两次 toast 的bug
* 修复了 channel 可能显示错误的bug
* 优化了二维码的显示
* 更新依赖
* 常规优化

---

v3.6.7

* 优化了部分图片的显示效果

> 大小与效果不可兼得（悲）

---

v3.6.6

* 修复了有时虚拟卡不会自动刷新的bug
* 优化了升级弹窗的操作逻辑
* 优化了虚拟卡自动刷新的逻辑
* 优化了安装包大小
* 常规优化

---

v3.6.5

* 修复了虚拟卡崩溃的bug

---

v3.6.4

* 志愿时长现在会显示数据截止日期
* 虚拟卡现在会自动刷新
* 优化了部分 UI

---

v3.6.3

* 修复了查看考试时可能会崩溃的bug
* 优化了部分文本
* 优化了部分 UI

---

v3.6.2

* 修复了可能会陷入无限循环的bug
* 修复了部分可能会导致程序崩溃的bug
* 优化了通知的显示

---

v3.6.1

* 优化了部分文本
* 优化部分 UI

---

v3.6.0

* 自我更新
* 现在会锁定竖屏
* 移除了部分过时的 API
* 更新依赖
* 常规优化

---

v3.5.2

* 修复了浴室预约可能会崩溃的bug
* 更新依赖
* 常规优化

---

v3.5.1

* 单人座和研修间现在会共享一个登录会话
* 修复了程序首次启动时，密码会被设定为 Error 的bug
* 修复了无法获取缓存大小的bug
* 优化了外部浏览器的调用方式
* 优化了部分设置的用户体验
* 优化了部分文本
* 优化安装包大小
* 常规优化

---

v3.5.0

* 设置中的密码现在会以密文存储
* 浴室预约现在支持通过 WebVPN 预约，不再限制于校园网
* 修复了有时 SharedPreference 读取错误的bug
* 修复了 JavaScript 运行时相关的bug
* 优化了部分文本
* 优化了密码的显示效果
* 更新依赖
* 常规优化

---

v3.4.4

* 优化了部分文本
* 更新依赖
* 常规优化

---

v3.4.3

* 优化了图片的加载方式
* 再次修复内存泄露
* 修复了进入程序后第一次获取二维码显示会话失效的bug
* 常规优化

---

v3.4.2

* 修复内存泄露
* 优化了部分 UI
* 优化安装包
* 更新依赖
* 常规优化

---

v3.4.1

* 修复了语言更改不完整的罕见bug
* 修复内存泄露
* 更新依赖
* 常规优化

---

v3.4.0

* 考试查询
* 加入 JavaScript 运行时
* 加入内置浏览器
* 修复了部分标题语言错误的bug
* 修复了预约座位可能会崩溃的bug
* 修复了部分可能会导致登录失败的bug
* 优化了部分 UI
* 更新依赖
* 常规优化

---

v3.3.10

* 移除了部分元数据
* 修复了手动调节程序内夜间模式会导致程序无法使用的bug
* 常规优化

---

v3.3.9

* 修复了语言变更时部分文本不变更的bug
* 修复了部分对话框无法弹出的bug

---

v3.3.8

* 修复了语言选择跟随系统时，语言并不与系统一致的bug
* 优化了部分 UI

---

v3.3.7

* 修复了无法正常工作的bug
* 修复了画面不可见导致程序崩溃的bug
* 移除了部分过时的方法
* 优化了部分 UI
* 常规优化

---

v3.3.6

* 修复了程序无法正常工作的bug

---

~~v3.3.5 (useless)~~

* 辅修初始化现在会提前
* 移除了部分影响性能的代码
* 优化部分错误的捕获
* 优化部分 UI
* 优化安装包大小
* 更新依赖
* 常规优化

---

v3.3.4

* 现在会默认启用 Material Design 3
* 修复了部分文字不会随语言修改而修改的bug
* 修复了部分变量未初始化时可能会导致程序崩溃的bug
* 修复了语言修改为跟随系统时可能不会生效的罕见bug
* 更新依赖
* 常规优化

---

v3.3.3

* 修复了不在预约时间时预约会导致程序崩溃的bug
* 修改了部分文本
* 优化了部分逻辑
* 优化部分 UI
* 常规优化

---

v3.3.2

* 修改了部分文本

---

v3.3.1

* 修改了部分文本
* 优化了部分逻辑
* 常规优化

---

v3.3.0

* 现在会显示当前二维码类型 (仅限单人座)
* 设置中密码会以密文显示, 点击后可查看
* 优化了工具箱部分功能的逻辑
* 修改了部分 AlertDialog 的错误标题
* 修复了无信息输入时在工具箱触发功能会导致程序崩溃的bug
* 更新依赖
* 优化部分 UI
* 常规优化

---

v3.2.3

* 完善了网络超时等情况的提示
* 适当降低了 OkHttp 的延时
* 修改了部分窗口的响应
* 修改了权限说明小窗的透明度
* 修复了获取剩余流量和剩余电量时可能会进入死循环的bug
* 修复了刷新按钮可能不会正常响应的bug
* 更新依赖
* 常规优化

---

v3.2.2

* 默认主题修改为馆藏蓝
* 完善了权限申请的说明
* 适配了夜间模式的权限申请说明小窗
* 修复了权限获取失败时小窗不消失bug
* 修复了获取剩余流量和剩余电量无法使用的bug
* 常规优化

---

v3.2.1

* 增加SplashScreen
* 增加权限申请说明小窗
* 给部分场景添加了密码或学号错误的提示
* 修复了部分无法登录的bug
* 修复了部分场景崩溃的bug
* 修复了关于页面状态栏和主背景颜色不同的bug
* 修复了 Activity 重建后小专业不显示的bug
* 修复了可能会错误选择辅修教管系统代码的bug
* 修复了辅修成绩中加权均分和平均绩点原始数据错误的bug
* 更新依赖
* 常规优化

---

v3.2.0

* 启用 Kotlin 协程
* 修改了部分文本
* 修复了从后台返回后，程序依然会被杀死的bug
* 修复了数据会被强制覆盖的bug
* 修复了可能会导致文本显示错误的bug
* 常规优化

---

v3.1.4

* 现在程序在后台保留30秒后会自动杀死
* 移除了多余的abi, 仅保留了64位abi (arm64-v8a)
* 修改了部分过时的方法
* 修复了部分数据可能会错误初始化的bug
* 修复了刷新按钮在特定环境下无效的bug
* 常规优化

---

v3.1.3

* 成绩查询中加入平均绩点和加权平均分
* 降低了获取数据的延时
* 重构了文本常量的文件结构
* 修复了部分主题显示错误的bug
* 修复了部分线程进入死循环的bug
* 修复了修改设置后数据不会保存的bug
* 修改了RecycleView的模板
* 增加了一个适用于RecycleView的新的Item
* 更新依赖
* 常规优化

---

v3.1.2

* 修改了部分Preference的样式
* 修复了RecycleView页面可能闪退的bug
* 更新依赖

---

v3.1.1

* 修复了重复进入成绩查询时数据未清空而导致出现多个重复成绩的bug

---

v3.1.0

* 成绩查询
* 修复了部分会导致程序崩溃的bug
* 常规优化

---

v3.0.1

* 撤销关于 HTTP 302 的特定处理方法 ( 修复了程序崩溃 )

---

v3.0.0

* 全新 UI
* 全新 icon
* `清除缓存`
* 修改`AlertDialog`
* Gson -> Moshi
* 重写 DataModel
* 重写重置数据的 method
* 现在会检查基本信息是否填写
* 加入 Material Design 3 主题
* 加入了一个 RecycleView 的模板
* 加入更多主题
* 加入工具对应icon
* 修复了登录时可能的崩溃
* 更新依赖
* 常规优化

---

v2.8.6

* 修复了Channel错误的问题

---

~~v2.8.5 (useless)~~

* Java 8 -> 11
* 修复了取随机数相关的bug
* 常规优化

---

v2.8.4

* 现在可以重置应用数据
* 常规优化

---

v2.8.3-Pre ( *Test* )

* 测试`OrderListData.kt`是否工作正常

---

v2.8.2

* 加入随机主题
* 常规优化

---

v2.8.1

* 更新依赖 (OkHttp3)
* 修复了小工具可能会登录失败的bug
* 修正了部分数据模型
* 移除了部分未使用的变量
* 优化UI
* 常规优化

---

v2.8.0

* 加入首次使用程序时的引导
* 修改了部分过时的方法
* 优化UI
* 常规优化

---

v2.7.5

* targetApi升级至33 （Tiramisu）
* 修改了部分UI
* 常规优化

---

v2.7.4-Pre ( *Test* )

* targetApi升级至33 （Tiramisu）
* 修改了部分UI

---

v2.7.3

* 升级Kotlin (1.6.21 -> 1.7.0)
* 移除了过时的logger
* 添加了`Pre-release`的显示
* 修改部分元数据

---

v2.7.3-Pre ( *Test* )

* 测试新版本Kotlin
* 移除了过时的logger
* 添加了`Pre-release`的显示
* 修改部分元数据

---

v2.7.2

* 主页面和关于页面现在会显示使用的是`Release`版本还是`Debug`版本
* 修改了主页面的跳转方法
* 修改部分meta-data的获取方法
* 修复了暂离状态的重置按钮不可见的bug
* 修复了修改语言不生效的bug
* 简化部分代码
* 常规优化

---

v2.7.1

* 更新依赖

---

v2.7.0

* 识别到暂离状态的预约时，可以一键重置了
* 修改了部分meta-data
* 统一了Toast的显示时长
* 常规优化

---

v2.6.4

* 移除混淆

---

~~v2.6.3 (useless)~~

* 重新设计了混淆格式，解决了程序无法正确运行的问题
* 再次修复了可能会导致登录失败的问题
* 更新依赖（`material`）

---

~~v2.6.2 (useless)~~

* 提高了获取的order数量，防止无法正确读取有效order
* 获取剩余流量和电量时，现在会检测是否成功登录
* 给一键重置加上了确认dialog，防止误触
* 修复了统一认证平台要求修改密码时，可能会导致的登录失败问题
* 优化安装包大小

---

v2.6.1

* 修复了一键重置无法使用的问题
* 增加容错性（sso提示修改密码时可能会导致出现问题）

---

v2.6.0

* 识别到当天的未开始预约时，可以在到期前进行一键重置
* 重建了工具箱页面，为未来可能会存在的更多的小工具做准备
* 修复了随机预约会错误显示的bug
* 重构部分架构，优化性能

---

v2.5.2

* 存在第二天的有效预约，但当天无有效预约时，随机预约现在也会启用
* 重构架构，优化性能

---

v2.5.1

* 现在`关于`页面的Toolbar会保持黑色
* 修复了`浴室预约`可能会出现的线程问题

---

v2.5.0

* 在没有有效预约时，可以一键随机预约座位了（比如说突然想去了，坐哪无所谓）
* 补充使用的开源项目
* 优化架构，优化性能

---

v2.4.1

* 更新依赖（`AGP`)

---

v2.4.0

* 加入`志愿时长`查询
* 长按`退出`现在会杀死进程
* 简化代码，优化性能

---

v2.3.7:

* ~~修复了`关于`页面StatusBar颜色错误的问题~~

---

v2.3.6

* 修复了`关于`页面Toolbar颜色错误的问题

---

v2.3.5

* 因为tx摆烂，移除Bugly的升级功能
* 修复了`关于`页面语言未生效的bug

---

v2.3.4

* 加入`关于`页面
* 修复了theme模式错误可能引起崩溃的bug
* 修复了第一次启动程序时可能导致的默认主题错误
* 优化架构
* 修改了部分文字

---

v2.3.3

* 引入Bugly，增加检查更新功能
* 优化架构

---

v2.3.2:

* 加入快捷方式(Shortcuts)
* 完善各项设置图标
* 优化架构，优化性能

---

v2.3.1:

* 修改返回上级Activity的方法

---

v2.3.0:
> P.S. 因重构整体框架，故版本号直接跳至2.3.0

* 加入语言设置
* 重构整体框架，体验增强
* 修复`研修间`无法返回的bug
* 修复`设置`点击左上返回按钮会直接退出的bug
* 修改了`浴室预约`的对话框弹出逻辑
* 修改了部分RGB值
* 修改默认主题

---

v2.2.0:

* 加入主题切换
* 加入深色模式切换
* 移除部分未使用的资源
* 优化整体架构

---

v2.1.1:

* 检测到未开始的预约时现在可以一键`开摆`:joy:
* 重新修复了虚拟卡余额不会跟随刷新按钮刷新的错误

---

v2.1.0:

* 现在`澡堂预约`会校验WIFI的SSID，如果不匹配校园网会提示连接校园网
* 添加了部分新权限来获得WIFI的SSID
* 简化代码，优化性能

---

v2.0.8:

* `剩余流量`现在也会显示已经使用的流量
* 修复了无法选中当天的有效预约的错误
* 修复了虚拟卡余额不会跟随刷新按钮刷新的错误
* 统一了部分字符常量的格式
* 简化代码，优化性能
* 优化了部分UI

---

v2.0.7:

* 加入部分提示
* 修复了一个大小写的错误

---

v2.0.6:

* 修复暂离截止会一直显示的bug

---

v2.0.5:

* 主页面右下加入版本信息
* `剩余流量`现在会提示网费余额
* `剩余流量`和`剩余电量`现在点击其他地方也可以退出了

---

v2.0.4:

* 提高`okhttp`的超时时间，防止获取宿舍电量时因超时导致崩溃

---

v2.0.3:

* `虚拟卡`刷新现在会同时刷新余额

---

v2.0.2:

* 修复了`剩余流量`显示为已用流量的错误

---

v2.0.1:

* 修改了`虚拟卡`二维码显示的方法，更便于扫描

---

v2.0.0:

* 加入工具箱
  * `虚拟卡`
  * `澡堂预约`
  * `剩余流量`
  * `宿舍剩余电量`
* Add English Version

---

v1.2.0:

* 加入`研修间`
* 修改UI
* 现在会选中更靠近当前时间的预约

---

v1.1.2:

* 更新依赖
* 简化代码

---

v1.1.1:

* 现在暂离状态会显示暂离截止时间
* 修改UI

---

v1.1.0:

* 修改了相关依赖
* 简化代码
* 加入`签到码`
* 加入`刷新`功能
* 支持暂离和未开始（审核通过）状态
* 当前状态会显示在下方
* 修改UI

---

v1.0.2:

* 修改了当前选中预约的内容，现在会显示`order_id`
* 修改了默认的预约内容值
* 修改UI

---

v1.0.1:

* 移除签到功能（评估后似乎没用）
* 完善暂离功能

---

v1.0.0:

* Hello World
